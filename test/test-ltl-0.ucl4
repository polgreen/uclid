module main {

  input  a, b  : int;
  input  valid : bool;
  output sum   : int;
  output ready : bool;
  
  var a_past, b_past : int;
  var ready_next : bool;
  
  init {
    a_past := 0;
    b_past := 0;
  }
  
  next {
    sum := a_past + b_past;
    ready := ready_next;
    
    if (valid) {
      a_past := a;
      b_past := b;
    }
    ready_next := valid;
  }
  
  property sum_property[LTL] : globally(valid ==> nxt(ready));
  property ready_property : (!valid);
}
